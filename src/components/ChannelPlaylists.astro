---
import channels from "../data/playlists.json";
---
<script>
  function adjustColumnClass() {
    const archCols = document.querySelectorAll(".archCol");
    archCols.forEach((archCol) => {
      if (window.innerWidth <= 600) {
        // Adjust 600 to your mobile breakpoint
        archCol.classList.remove("col-6");
        archCol.classList.add("col-12");
      } else {
        archCol.classList.remove("col-12");
        archCol.classList.add("col-6");
      }
    });
  }

  // Run initially and add event listener for resizing
  adjustColumnClass();
  window.addEventListener("resize", adjustColumnClass);
</script>
<style>
  li {
    font-size: 100%;
    color: #dedede; /* https://images.gamebanana.com/img/ss/mods/58c87d7073cdf.jpg */
    font-family:
      roboto slab,
      serif;
  }
</style>
<div class="row">
  <div class="container mb-2 frostedglass col">
    <p
      class="text-center runguszone mt-1 mb-n2"
      style="font-size:135%"
    ><a href="https://archiveofpimps.com/shows" class="alert-link">Archives by Show</a> - <a href="https://archiveofpimps.com/playlists" class="alert-link">Archives by Playlist</a>
    </p>
  </div>
</div>
<div class="grid-container">
  <div class="row">
    {
      channels.map((channel) => (
        <>
          <div class="col-12 pb-2">
            <div class="frostedglass container" id={channel.channel_name}>
              <p class="fs-2 runguszone mb-n">{channel.channel_name}</p>
                {channel.playlists.map((playlist) => (
                  <details>
                    <summary>{playlist.title}</summary>
                    <div id={playlist.title}>
                      <ol>
                        {playlist.videos.map((video) => (
                          <li class="playlist-link"><a class="alert-link runguszone playlist-link" href={video.url}>{video.title}</a></li>
                        ))}
                      </ol>
                    </div>
                  </details>
                ))}
            </div>
          </div>  
        </>
      ))
    }
  </div>
</div>
